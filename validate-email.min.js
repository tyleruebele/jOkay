/* Copyright (c) 2013 Tyler Uebele * Released under the MIT license. * latest at https://github.com/tyleruebele/validate-email * minified at jscompress.com */
function validateEmail(e,t,n){e=e.replace(/^\s+|\s+$/g,"");t="undefined"!==typeof t?t:true;n="undefined"!==typeof n?n:false;var r=/^([^@]+)@([^@]+)$/.exec(e);if(r==null){validateEmail.errno=1;return false}var i=r[1];var s=r[2];var o='[^\0- ()<>@,;:\\".[\\]-ÿ]+';var u='"[ !#-~]+"';var a=new RegExp("^("+u+"|"+o+")(\\.("+u+"|"+o+"))*$");if(i.match(a)==null){validateEmail.errno=2;return false}var f="\\[(\\d{1,3})\\.(\\d{1,3})\\.(\\d{1,3})\\.(\\d{1,3})\\]";var l=new RegExp("^"+f+"$");var c=new RegExp("^"+o+"(\\."+o+")*$");var h=new RegExp("^("+f+"|("+o+"(\\."+o+")*))$");if(s.match(h)==null){validateEmail.errno=3;return false}if(r=s.match(l)){if(r[1]>255||r[2]>255||r[3]>255||r[4]>255){validateEmail.errno=4;return false}else{validateEmail.errno=0;return e}}if(true===t&&s.match(c)!=null){r=s.split(".");var p;if(true===n){p=/^(AC|AD|AE|AERO|AF|AG|AI|AL|AM|AN|AO|AQ|AR|ARPA|AS|ASIA|AT|AU|AW|AX|AZ|BA|BB|BD|BE|BF|BG|BH|BI|BIZ|BJ|BM|BN|BO|BR|BS|BT|BV|BW|BY|BZ|CA|CAT|CC|CD|CF|CG|CH|CI|CK|CL|CM|CN|CO|COM|COOP|CR|CU|CV|CW|CX|CY|CZ|DE|DJ|DK|DM|DO|DZ|EC|EDU|EE|EG|ER|ES|ET|EU|FI|FJ|FK|FM|FO|FR|GA|GB|GD|GE|GF|GG|GH|GI|GL|GM|GN|GOV|GP|GQ|GR|GS|GT|GU|GW|GY|HK|HM|HN|HR|HT|HU|ID|IE|IL|IM|IN|INFO|INT|IO|IQ|IR|IS|IT|JE|JM|JO|JOBS|JP|KE|KG|KH|KI|KM|KN|KP|KR|KW|KY|KZ|LA|LB|LC|LI|LK|LR|LS|LT|LU|LV|LY|MA|MC|MD|ME|MG|MH|MIL|MK|ML|MM|MN|MO|MOBI|MP|MQ|MR|MS|MT|MU|MUSEUM|MV|MW|MX|MY|MZ|NA|NAME|NC|NE|NET|NF|NG|NI|NL|NO|NP|NR|NU|NZ|OM|ORG|PA|PE|PF|PG|PH|PK|PL|PM|PN|POST|PR|PRO|PS|PT|PW|PY|QA|RE|RO|RS|RU|RW|SA|SB|SC|SD|SE|SG|SH|SI|SJ|SK|SL|SM|SN|SO|SR|ST|SU|SV|SX|SY|SZ|TC|TD|TEL|TF|TG|TH|TJ|TK|TL|TM|TN|TO|TP|TR|TRAVEL|TT|TV|TW|TZ|UA|UG|UK|US|UY|UZ|VA|VC|VE|VG|VI|VN|VU|WF|WS|XN--0ZWM56D|XN--11B5BS3A9AJ6G|XN--3E0B707E|XN--45BRJ9C|XN--80AKHBYKNJ4F|XN--80AO21A|XN--90A3AC|XN--9T4B11YI5A|XN--CLCHC0EA0B2G2A9GCD|XN--DEBA0AD|XN--FIQS8S|XN--FIQZ9S|XN--FPCRJ9C3D|XN--FZC2C9E2C|XN--G6W251D|XN--GECRJ9C|XN--H2BRJ9C|XN--HGBK6AJ7F53BBA|XN--HLCJ6AYA9ESC7A|XN--J1AMH|XN--J6W193G|XN--JXALPDLP|XN--KGBECHTV|XN--KPRW13D|XN--KPRY57D|XN--LGBBAT1AD8J|XN--MGB9AWBF|XN--MGBAAM7A8H|XN--MGBAYH7GPA|XN--MGBBH1A71E|XN--MGBC0A9AZCG|XN--MGBERP4A5D4AR|XN--MGBX4CD0AB|XN--O3CW4H|XN--OGBPF8FL|XN--P1AI|XN--PGBS0DH|XN--S9BRJ9C|XN--WGBH1C|XN--WGBL6A|XN--XKC2AL3HYE2A|XN--XKC2DL3A5EE0H|XN--YFRO4I67O|XN--YGBI2AMMX|XN--ZCKZAH|XXX|YE|YT|ZA|ZM|ZW)$/i;if(r[r.length-1].match(p)==null){validateEmail.errno=5;return false}}else{p=/^(aero|asia|arpa|biz|cat|com|coop|edu|gov|info|int|jobs|mil|mobi|museum|name|net|org|post|pro|tel|travel|xxx)$/i;if(r[r.length-1].length!=2&&r[r.length-1].match(p)==null){validateEmail.errno=5;return false}}for(var d=0;d<r.length;d++){if(r[d].length>63){validateEmail.errno=6;return false}if(r[d].charAt(0)=="-"){validateEmail.errno=7;return false}if(r[d].charAt(r[d].length-1)=="-"){validateEmail.errno=8;return false}if(r[d].match(/^[a-zA-Z0-9\-]{1,63}$/)==null){validateEmail.errno=9;return false}}}validateEmail.errno=0;return e}validateEmail.input=function(e,t,n){if("undefined"===typeof t){t=!e.className.match(/js-validate-email-looser/)}if("undefined"===typeof n){n=!!e.className.match(/js-validate-email-stricter/)}e.className=e.className.replace(validateEmail.errorClass,"");var r=validateEmail(e.value,t,n);if(""!=e.value&&false===r){e.title=validateEmail.errors[validateEmail.errno];e.className+=" "+validateEmail.errorClass}else{e.title="";e.value=r}};validateEmail.init=function(){var e=document.querySelectorAll(validateEmail.query);for(var t=e.length-1;t>=0;t--){e[t].addEventListener("blur",function(){validateEmail.input(this)})}};validateEmail.errno=0;validateEmail.errors=["Email Validation Passed","Wrong number of '@'","Invalid Email User","Invalid Email Domain","Invalid IP address","Invalid Domain TLD","Maximum Length Error","Leading Hyphen Error","Trailing Hyphen Error","Invalid Domain Label","Email Validation Failed"];validateEmail.query="input[type=email],"+"input.js-validate-email,"+"input.js-validate-email-looser,"+"input.js-validate-email-strict,"+"input.js-validate-email-stricter";validateEmail.errorClass="js-validate-email-error";window.addEventListener?window.addEventListener("load",validateEmail.init,false):window.attachEvent&&window.attachEvent("onload",validateEmail.init)
